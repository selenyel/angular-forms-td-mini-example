<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <form (ngSubmit)="onSubmit()" #myForm="ngForm">
        <div class="form-group">
          <label for="email" style="margin-top: 1em;"> Email</label>
          <input
            type="email"
            name="email"
            class="form-control"
            [(ngModel)]= 'formDatas.email'
            email
            required
            #customEmailLocalReference = 'ngModel'
            [ngStyle] = "{'border' : !customEmailLocalReference.valid && customEmailLocalReference.touched ? '1px solid crimson' : ''}"
          >
          <span style="color: red;" *ngIf = "!customEmailLocalReference.valid && customEmailLocalReference.touched"> Invalid Email </span>

        </div>

        <hr>

        <div class="form-group">
          <label for="subscription"> Subscription Type</label>
          <select     
            name="subscription"        
            id="subscription"
            class="form-control" 
            [ngModel]='subscriptions[1]'
          >
            <option *ngFor="let sub of subscriptions" (value)="sub">{{sub}}</option>
          </select>
        </div>
        
        <hr>

        <div class="form-group">
          <label for="subscription">Password</label>
          <div style="display: flex;">
            <input
              [type]="hide ? 'password' : 'text'"
              name="password"
              class="form-control" 
              [(ngModel)]= 'formDatas.password'
              required
              #customLocalRefPassword = 'ngModel'
              [ngStyle] = "{'border' : !customLocalRefPassword.valid && customLocalRefPassword.touched ? '1px solid crimson' : ''}"
            >
            <button           
              class="btn btn-primary" 
              type="button" 
              (click)="hide=!hide"
              style="width: 2.8em;"
            >
            {{hide ? 'O' : '-'}}
            </button>
          </div>
          <span style="color: red;" *ngIf = "!customLocalRefPassword.valid && customLocalRefPassword.touched"> Invalid Password </span>
        </div>
        
        <hr>
       
        <button
          class="btn btn-primary" 
          type="submit"
          (onClick)="onSubmit()"
          [disabled] = '!myForm.valid'
        >Submit</button>

        <span style="color: red;" *ngIf = "!myForm.valid && myForm.touched"> Invalid Form </span>

      </form>

      <div class="row" *ngIf="submitted">
        <div class="col-xs-12">
          <h3>Your Data</h3>
          <p>Mail: {{formDatas.email}}</p>
          <p>Subscription Type: {{formDatas.subscriptionType}}</p>
          <p>Password: {{formDatas.password}} </p>
        </div>
      </div>
      <!-- Add a Form with the following Inputs (and Validators)
           1) Mail address (should not be empty and should be an email address)
           2) A Dropdown which allows the user to select from three different Subscriptions ("Basic", "Advanced", "Pro")
              Set "Advanced" as Default
           3) A Password field (should not be empty)
           4) A Submit Button

           Display a warning message if the Form is invalid AND was touched. Display a warning message below each input if it's invalid.

           Upon submitting the form, you should simply print the Value of the Form to the Console.
           Optionally, display it in your template.
      -->
    </div>
  </div>
</div>
